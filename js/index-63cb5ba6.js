import{e,o as t,f as n,g as o,j as i,k as a,l as r,m as s,q as l,F as c,t as d,v as u,x as h}from"./vue-4a228cd8.js";import{c as m,a as p}from"./vue-router-b446de0a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let g=null;function v(e){return function(){if(null!==g)return g;try{const e=document.createElement("canvas");e.width=e.height=1,g=5===e.toDataURL("image/webp").indexOf("image/webp")}catch(e){g=!1}return g}()?e.replace(/\.png$/,".webp"):e}const f=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},I={class:"nav-container"},_={class:"logo"},w=["src"];const y=f({name:"Navigation",data:()=>({isScrolled:!1,menuOpen:!1}),computed:{aboutIconSrc:()=>v("/home/nav_icon.webp")},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){this.isScrolled=window.scrollY>50},toggleMenu(){this.menuOpen=!this.menuOpen},closeMenu(){this.menuOpen=!1}}},[["render",function(l,c,d,u,h,m){const p=e("router-link");return t(),n("nav",{class:r(["navigation",{scrolled:h.isScrolled}])},[o("div",I,[o("div",_,[i(p,{to:"/"},{default:a(()=>[o("img",{loading:"lazy",src:m.aboutIconSrc,alt:"SISI"},null,8,w)]),_:1})]),o("ul",{class:r(["nav-menu",{active:h.menuOpen}])},[o("li",null,[i(p,{to:"/about",onClick:m.closeMenu},{default:a(()=>[...c[1]||(c[1]=[s("ABOUT ME",-1)])]),_:1},8,["onClick"])]),o("li",null,[i(p,{to:"/surfing",onClick:m.closeMenu},{default:a(()=>[...c[2]||(c[2]=[s("ABOUT SURFING",-1)])]),_:1},8,["onClick"])]),o("li",null,[i(p,{to:"/expedition",onClick:m.closeMenu},{default:a(()=>[...c[3]||(c[3]=[s("ARCTIC EXPEDITION",-1)])]),_:1},8,["onClick"])]),o("li",null,[i(p,{to:"/research",onClick:m.closeMenu},{default:a(()=>[...c[4]||(c[4]=[s("RESEARCH",-1)])]),_:1},8,["onClick"])]),o("li",null,[i(p,{to:"/smile",onClick:m.closeMenu},{default:a(()=>[...c[5]||(c[5]=[s("OPERATION SMILE",-1)])]),_:1},8,["onClick"])]),o("li",null,[i(p,{to:"/art",onClick:m.closeMenu},{default:a(()=>[...c[6]||(c[6]=[s("ABOUT ART",-1)])]),_:1},8,["onClick"])])],2),o("div",{class:r(["hamburger",{active:h.menuOpen}]),onClick:c[0]||(c[0]=(...e)=>m.toggleMenu&&m.toggleMenu(...e))},[...c[7]||(c[7]=[o("span",null,null,-1),o("span",null,null,-1),o("span",null,null,-1)])],2)])],2)}],["__scopeId","data-v-2b7c536b"]]),E={class:"footer"};const b=f({name:"Footer"},[["render",function(e,o,i,a,r,s){return t(),n("footer",E,[...o[0]||(o[0]=[l('<div class="footer-container" data-v-268679dc><div class="footer-icon" data-v-268679dc><img loading="lazy" src="/home/nav_icon.webp" alt="SISI" data-v-268679dc></div><div class="footer-line" data-v-268679dc></div><p class="copyright" data-v-268679dc>Copyright @SiSi</p></div>',1)])])}],["__scopeId","data-v-268679dc"]]),S=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"}));const O=new class{constructor(){this.loadedImages=new Set,this.loadingImages=new Set,this.priorityQueue=[],this.lazyQueue=[],this.isLoading=!1}preloadImage(e,t=5){return this.loadedImages.has(e)||this.loadingImages.has(e)?Promise.resolve():new Promise((t,n)=>{const o=new Image;o.onload=()=>{this.loadedImages.add(e),this.loadingImages.delete(e),t()},o.onerror=()=>{this.loadingImages.delete(e),n(new Error(`Failed to load image: ${e}`))},this.loadingImages.add(e),o.src=e})}async preloadImages(e){const t=e.sort((e,t)=>(t.priority||5)-(e.priority||5)),n=t.filter(e=>(e.priority||5)>=7),o=t.filter(e=>(e.priority||5)>=4&&(e.priority||5)<7),i=t.filter(e=>(e.priority||5)<4);await Promise.all(n.map(e=>this.preloadImage(e.src,e.priority))),await Promise.all(o.map(e=>this.preloadImage(e.src,e.priority))),i.forEach(e=>{this.preloadImage(e.src,e.priority).catch(()=>{})})}getLoadingStatus(){return{loaded:this.loadedImages.size,loading:this.loadingImages.size,total:this.loadedImages.size+this.loadingImages.size}}clear(){this.loadedImages.clear(),this.loadingImages.clear()}},L={class:"main-content"};const C=f({name:"App",components:{Navigation:y,Footer:b}},[["render",function(a,r,s,l,d,u){const h=e("Navigation"),m=e("router-view"),p=e("Footer");return t(),n(c,null,[i(h),o("div",L,[i(m)]),i(p)],64)}]]),z={},k=function(e,t,n){if(!t||0===t.length)return e();const o=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in z)return;z[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(!!n)for(let n=o.length-1;n>=0;n--){const i=o[n];if(i.href===e&&(!t||"stylesheet"===i.rel))return}else if(document.querySelector(`link[href="${e}"]${i}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise((t,n)=>{a.addEventListener("load",t),a.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})},P={id:"home",class:"video-hero"},x={class:"video-container"},R={class:"video-placeholder"},A={class:"carousel-wrapper"},W=["src","alt"],M={class:"carousel-indicators"},T=["onClick"];const j=[{path:"/",name:"Home",component:f({name:"Home",components:{VideoHero:f({name:"VideoHero",data:()=>({images:["/home/1103_1.webp","/home/1103_2.webp","/home/1103_4.webp","/home/1103_5.webp","/home/1103_6.webp"],currentImageIndex:0,carouselInterval:null}),mounted(){this.startCarousel()},beforeUnmount(){this.stopCarousel()},methods:{startCarousel(){this.carouselInterval=setInterval(()=>{this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},2e3)},stopCarousel(){this.carouselInterval&&clearInterval(this.carouselInterval)},goToImage(e){this.currentImageIndex=e,this.stopCarousel(),this.startCarousel()}}},[["render",function(e,i,a,s,l,u){return t(),n("section",P,[o("div",x,[o("div",R,[o("div",A,[(t(!0),n(c,null,d(l.images,(e,o)=>(t(),n("img",{key:o,src:e,alt:`Carousel ${o+1}`,class:r(["hero-image",{active:o===l.currentImageIndex}])},null,10,W))),128))]),o("div",M,[(t(!0),n(c,null,d(l.images,(e,o)=>(t(),n("div",{key:`indicator-${o}`,class:r(["indicator",{active:o===l.currentImageIndex}]),onClick:e=>u.goToImage(o)},null,10,T))),128))])])])])}],["__scopeId","data-v-4f8c54f6"]]),AboutSection:u(()=>k(()=>import("./AboutSection-9a4e6d20.js"),["js/AboutSection-9a4e6d20.js","js/vue-4a228cd8.js","js/vue-router-b446de0a.js","css/AboutSection-6c7e4842.css"])),BottomSection:u(()=>k(()=>import("./BottomSection-094648e1.js"),["js/BottomSection-094648e1.js","js/vue-4a228cd8.js","js/vue-router-b446de0a.js","css/BottomSection-1a6871c4.css"]))},mounted(){this.preloadHomeImages()},methods:{preloadHomeImages(){O.preloadImages([]).then(()=>{this.preloadOtherPagesImages()})},preloadOtherPagesImages(){O.preloadImages([]).catch(()=>{})}}},[["render",function(o,a,r,s,l,c){const d=e("VideoHero"),u=e("AboutSection"),h=e("BottomSection");return t(),n("div",null,[i(d),i(u),i(h)])}]])},{path:"/about",name:"About",component:()=>k(()=>import("./index-b2549b47.js"),["js/index-b2549b47.js","js/vue-4a228cd8.js","js/vue-router-b446de0a.js","css/index-5989a483.css"])},{path:"/surfing",name:"Surfing",component:()=>k(()=>import("./index-0dfe1dd3.js"),["js/index-0dfe1dd3.js","js/vue-4a228cd8.js","js/VideoPlayer-c978de10.js","css/VideoPlayer-8c79ff15.css","js/vue-router-b446de0a.js","css/index-31f3d463.css"])},{path:"/expedition",name:"Expedition",component:()=>k(()=>import("./index-f45f1992.js"),["js/index-f45f1992.js","js/vue-4a228cd8.js","js/VideoPlayer-c978de10.js","css/VideoPlayer-8c79ff15.css","js/vue-router-b446de0a.js","css/index-651fffdf.css"])},{path:"/research",name:"Research",component:()=>k(()=>import("./index-65d8131c.js"),["js/index-65d8131c.js","js/vue-4a228cd8.js","js/vue-router-b446de0a.js","css/index-5034dfa3.css"])},{path:"/smile",name:"Smile",component:()=>k(()=>import("./index-bf48ddd5.js"),["js/index-bf48ddd5.js","js/vue-4a228cd8.js","js/VideoPlayer-c978de10.js","css/VideoPlayer-8c79ff15.css","js/vue-router-b446de0a.js","css/index-306f9929.css"])},{path:"/art",name:"Art",component:()=>k(()=>import("./index-f997c05b.js"),["js/index-f997c05b.js","js/VideoPlayer-c978de10.js","js/vue-4a228cd8.js","css/VideoPlayer-8c79ff15.css","js/vue-router-b446de0a.js","css/index-ab036608.css"])},{path:"/:pathMatch(.*)*",redirect:"/"}],N=m({history:p(),routes:j,scrollBehavior:(e,t,n)=>n||{top:0,behavior:"smooth"}}),V={mounted(e,t){const n=t.value;if(!n)return;const o=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target;"IMG"===t.tagName?(t.src=n,t.classList.add("lazy-loaded")):(t.style.backgroundImage=`url(${n})`,t.classList.add("lazy-loaded")),o.unobserve(t)}})},{rootMargin:"50px"});o.observe(e),e._lazyLoadObserver=o},unmounted(e){e._lazyLoadObserver&&(e._lazyLoadObserver.unobserve(e),e._lazyLoadObserver.disconnect(),delete e._lazyLoadObserver)}};const D=new class{constructor(e={}){this.designWidth=e.designWidth||1920,this.minWidth=e.minWidth||320,this.maxWidth=e.maxWidth||2560,this.currentWidth=window.innerWidth,this.currentScale=this.calculateScale(this.currentWidth),this.handleResize=this.handleResize.bind(this),this.init()}init(){this.updateScale(),window.addEventListener("resize",this.handleResize),window.addEventListener("orientationchange",this.handleResize)}calculateScale(e){return Math.max(this.minWidth,Math.min(e,this.maxWidth))/this.designWidth}updateScale(){const e=this.calculateScale(this.currentWidth);document.documentElement.style.zoom=e,document.documentElement.style.setProperty("--scale",e),this.currentScale=e}handleResize(){const e=window.innerWidth;Math.abs(e-this.currentWidth)>1&&(this.currentWidth=e,this.updateScale(),this.dispatchEvent("scalechange",{width:e,scale:this.currentScale}))}dispatchEvent(e,t){const n=new CustomEvent(e,{detail:t});window.dispatchEvent(n)}getScale(){return this.currentScale}getWidth(){return this.currentWidth}destroy(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("orientationchange",this.handleResize)}}({designWidth:1920,minWidth:320,maxWidth:2560}),U=h(C);U.directive("lazy-load",V),U.config.globalProperties.$dynamicUnit=D,U.use(N),U.mount("#app");export{S as F,f as _,k as a};
